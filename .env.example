# ============================================================================
# Environment Variables Template
# SAP B1 Inventory & Forecast Analyzer - Railway Deployment
# ============================================================================
# Instructions:
# 1. Copy this file to .env for local development
# 2. For Railway, add these variables in the Railway dashboard under "Variables"
# 3. Never commit .env file to version control
# ============================================================================

# ----------------------------------------------------------------------------
# Database (PostgreSQL on Railway)
# ----------------------------------------------------------------------------
# Railway automatically provides DATABASE_URL when you link the service
DATABASE_URL=postgresql://user:password@host:port/database
# Example: postgresql://postgres:yourpassword@containers-us-west-1.railway.app:7923/railway

# Database connection pool settings
DB_POOL_MIN=1
DB_POOL_MAX=5
DB_POOL_TIMEOUT=30

# ----------------------------------------------------------------------------
# Redis Cache (Railway Redis)
# ----------------------------------------------------------------------------
# Railway automatically provides REDIS_URL when you link the service
REDIS_URL=redis://default:password@host:port
# Example: redis://default:yourpassword@containers-us-west-1.railway.app:6379

# Cache TTL settings (in seconds)
CACHE_TTL_SHORT=300
CACHE_TTL_MEDIUM=3600
CACHE_TTL_LONG=86400

# ----------------------------------------------------------------------------
# Azure AD Authentication
# ----------------------------------------------------------------------------
AZURE_AD_TENANT_ID=aface7de-787c-41b4-b458-74df6ae895da
AZURE_AD_CLIENT_ID=1ab7aef9-0cb5-4bdf-8e06-388c898c026f
AZURE_AD_CLIENT_SECRET=your-client-secret-here
AZURE_AD_REDIRECT_URI=https://your-app.railway.app/_stcore/auth

# Authorization (App-based, NOT Azure AD groups)
ADMIN_EMAIL=nathan@pacesolutions.com

# ----------------------------------------------------------------------------
# API Configuration (for SAP integration)
# ----------------------------------------------------------------------------
API_KEY=generate-a-secure-api-key-here
API_ENCRYPTION_KEY=generate-a-base64-encryption-key-here

# Allowed origins for CORS
API_ALLOWED_ORIGINS=https://your-sap-server-domain

# ----------------------------------------------------------------------------
# Streamlit Configuration
# ----------------------------------------------------------------------------
STREAMLIT_SERVER_PORT=8501
STREAMLIT_SERVER_ADDRESS=0.0.0.0
STREAMLIT_SERVER_HEADLESS=true
STREAMLIT_SERVER_ENABLE_CORS=false
STREAMLIT_SERVER_ENABLE_XSRF_PROTECTION=true

# ----------------------------------------------------------------------------
# Data Processing Settings
# ----------------------------------------------------------------------------
# Data freshness settings (adjustable)
DATA_REFRESH_INTERVAL_HOURS=24
FORECAST_REFRESH_INTERVAL_DAYS=60

# Processing priority: stability > cost > speed
MAX_CONCURRENT_JOBS=3
JOB_TIMEOUT_SECONDS=7200

# ----------------------------------------------------------------------------
# Email Notifications (for margin alerts)
# ----------------------------------------------------------------------------
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USERNAME=your-email@gmail.com
SMTP_PASSWORD=your-app-password
SMTP_FROM=noreply@pacesolutions.com

# Alert recipients (comma-separated)
ALERT_RECIPIENTS=nathan@pacesolutions.com,other@example.com

# Margin alert thresholds
MARGIN_ALERT_THRESHOLD_LOW=20
MARGIN_ALERT_THRESHOLD_CRITICAL=0

# ----------------------------------------------------------------------------
# Logging & Monitoring
# ----------------------------------------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# Sentry (optional, for error tracking)
SENTRY_DSN=

# ----------------------------------------------------------------------------
# Feature Flags
# ----------------------------------------------------------------------------
FEATURE_ENABLE_MARGIN_ALERTS=true
FEATURE_ENABLE_SALES_EMPLOYEE_TRACKING=false
FEATURE_ENABLE_COMMISSION_SYSTEM=false
FEATURE_ENABLE_ADMIN_INTERFACE=true

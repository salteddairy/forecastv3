# Railway Worker Configuration
# https://docs.railway.com/reference/deployment-config

[build]
buildCommand = "echo 'No build command needed for Python worker'"

[deploy]
# Health check configuration
healthcheckPath = "/health"
healthcheckTimeout = 10000
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Worker configuration (not a web service)
[startupTimeout] = 180000  # 3 minutes

# Environment variables (set in Railway dashboard or CLI)
# DATABASE_URL = "postgresql://user:pass@host:port/db"
# RAILWAY_CRON = "0 2 * * *"  # Run daily at 2 AM UTC
# ONE_SHOT = "false"  # Set to "true" to run once and exit (for testing)

[service]
# Worker service (not exposed to internet)
# Runs on a schedule using cron
